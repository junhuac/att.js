(function(){var e=this,t={},n={},o=e.jQuery,i=t.util={_uuidCounter:0,uuid:function(){return Math.random().toString(16).substring(2)+(i._uuidCounter++).toString(16)},slice:Array.prototype.slice,isFunc:function(e){return"[object Function]"==Object.prototype.toString.call(e)},extend:function(e){return this.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},each:function(e,t){if(e)if(e instanceof Array)e.forEach(t);else for(var n in e)t(n,e[n])},getQueryParam:function(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n="[\\?&]"+t+"=([^&#]*)",o=RegExp(n),i=o.exec(window.location.search);return i?decodeURIComponent(i[1].replace(/\+/g," ")):void 0},h2sSupport:function(){return"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/536.4 (KHTML, like Gecko) Chrome/19.0.1077.0 Safari/536.4"==window.navigator.userAgent||"Mozilla/5.0 (iPhone; CPU iPhone OS 6_0_1 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Mobile/10A523"==window.navigator.userAgent||window.webkitPeerConnection00&&-1!==window.navigator.userAgent.indexOf("Chrome/24")},getMe:function(e,t){var i="https://auth.tfoundry.com",r={access_token:e};return n.me?t(n.me):(console.log(r),o.ajax({data:r,dataType:"json",url:i+"/me.json",success:function(e){n.me=e,o.ajax({data:r,dataType:"json",url:i+"/users/"+e.uid+"/api_services/webrtc.json",success:function(n){var o=n&&n.version,i=n&&n.options&&n.options.phone_number;e.version=o?"a"+o:"a1",e.number=i||e.phone_number,t(e)}})}}),void 0)}},r={};r.stringify=function(e){var t,n=r.parse(e),o=n.length,i="1"===n.charAt(0),a=n.split("");return o>(i?11:10)?n:!i&&4>o?n:(i&&a.splice(0,1),i?o>1&&(t=4-o,t=t>0?t:0,a.splice(0,0," ("),a.splice(4,0,Array(t+1).join(" ")+") "),o>7&&a.splice(8,0,"-")):o>7?(a.splice(0,0,"("),a.splice(4,0,") "),a.splice(8,0,"-")):o>3&&a.splice(3,0,"-"),(i?"1":"")+a.join(""))},r.parse=function(e){return(e+"").toUpperCase().replace(/[A-Z]/g,function(e){return 0|(e.charCodeAt(0)-65)/3+2-("SVYZ".indexOf(e)>-1)}).replace(/\D/g,"")},r.getCallable=function(e,t){var n=t||"us",o=r.parse(e);return 10!==o.length?"us"==n&&11===o.length&&"1"===o.charAt(0)?o:!1:"us"==n?"1"+o:void 0},t.phoneNumber=r,o&&(o.phoneNumber=r),"undefined"!=typeof exports?module.exports=t:(e.ATT||(e.ATT={}),i.extend(e.ATT,t))}).call(this);